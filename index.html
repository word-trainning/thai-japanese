<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ã‚¿ã‚¤èªãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ & ä¸€è¦§è¡¨ç¤ºï¼ˆéŸ³å£°ä»˜ãï¼‰</title>
<style>
body { font-family: sans-serif; padding: 20px; background-color:#f5f5f5;}
h1 { text-align: center; }
input { width: 100%; padding: 8px; margin: 10px 0; font-size: 16px; }
button { margin: 5px; padding: 5px 10px; }
.card { border: 1px solid #ccc; border-radius: 8px; background:white; padding: 15px; margin: 10px 0; cursor: pointer; transition: 0.2s; }
.card:hover { background:#f0f0f0; }
.hidden { display: none; }
.stats { margin-top: 10px; font-size: 14px; }
table { width: 100%; border-collapse: collapse; margin-top: 10px; }
th, td { border: 1px solid #ccc; padding: 5px; text-align: left; }
</style>
</head>
<body>

<h1>ã‚¿ã‚¤èªãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ & ä¸€è¦§è¡¨ç¤ºï¼ˆéŸ³å£°ä»˜ãï¼‰</h1>

<!-- ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ãƒœã‚¿ãƒ³ -->
<button id="modeFlash">ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰</button>
<button id="modeList">ä¸€è¦§è¡¨ç¤º</button>

<!-- æ¤œç´¢ãƒœãƒƒã‚¯ã‚¹ -->
<input type="text" id="search" placeholder="æ—¥æœ¬èªãƒ»ã‚¿ã‚¤èªãƒ»ã‚«ãƒ†ã‚´ãƒªã§æ¤œç´¢..." />

<!-- ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰è¡¨ç¤º -->
<div id="flashCards"></div>

<!-- ä¸€è¦§è¡¨ç¤º -->
<div id="listView" style="display:none;"></div>

<!-- çµ±è¨ˆè¡¨ç¤º -->
<div class="stats" id="stats"></div>

<script>
// ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿
const words = [
  {"thai":"à¸¢à¸²à¸‡à¸à¸²à¸£à¸²","roman":"yaang phaa-raa","japanese":"å¤©ç„¶ã‚´ãƒ ","category":"å°‚é–€ç”¨èª","description":"ã‚´ãƒ ã®åŸæ–™ã¨ã—ã¦ä½¿ç”¨ã•ã‚Œã‚‹å¤©ç„¶ãƒ©ãƒ†ãƒƒã‚¯ã‚¹ã€‚"},
  {"thai":"à¸¢à¸²à¸‡à¸ªà¸±à¸‡à¹€à¸„à¸£à¸²à¸°à¸«à¹Œ","roman":"yaang sang-khraaw","japanese":"åˆæˆã‚´ãƒ ","category":"å°‚é–€ç”¨èª","description":"äººå·¥çš„ã«åŒ–å­¦åˆæˆã•ã‚ŒãŸã‚´ãƒ ã€‚"},
  {"thai":"à¸à¸²à¸£à¸œà¸ªà¸¡","roman":"kaan phasom","japanese":"æ··ç·´","category":"å°‚é–€ç”¨èª","description":"ã‚´ãƒ åŸæ–™ã¨æ·»åŠ å‰¤ã‚’å‡ä¸€ã«æ··ãœåˆã‚ã›ã‚‹å·¥ç¨‹ã€‚"},
  {"thai":"à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸„à¸¸à¸“à¸ à¸²à¸à¹à¸¥à¹‰à¸§à¸«à¸£à¸·à¸­à¸¢à¸±à¸‡","roman":"truad-sop khun-na-phap laew reuu yang","japanese":"å“è³ªãƒã‚§ãƒƒã‚¯ã—ã¾ã—ãŸã‹ï¼Ÿ","category":"æ¥­å‹™é€£çµ¡","description":""},
  {"thai":"à¸ªà¹ˆà¸‡à¸£à¸²à¸¢à¸‡à¸²à¸™à¸§à¸±à¸™à¸™à¸µà¹‰","roman":"song raai-ngaan wan-nii","japanese":"ä»Šæ—¥ã®å ±å‘Šã‚’é€ã£ã¦ãã ã•ã„","category":"æ¥­å‹™é€£çµ¡","description":""},
  {"thai":"à¸ªà¸§à¸±à¸ªà¸”à¸µà¸„à¸£à¸±à¸š","roman":"sa-wat-dee khrab","japanese":"ã“ã‚“ã«ã¡ã¯","category":"æ—¥å¸¸ä¼šè©±","description":""},
  {"thai":"à¸‚à¸­à¸šà¸„à¸¸à¸“à¸¡à¸²à¸","roman":"khop-khun maak","japanese":"ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™","category":"æ—¥å¸¸ä¼šè©±","description":""},
  {"thai":"à¸ªà¸šà¸²à¸¢à¸”à¸µà¹„à¸«à¸¡","roman":"sa-baai dee mai","japanese":"å…ƒæ°—ã§ã™ã‹ï¼Ÿ","category":"æ—¥å¸¸ä¼šè©±","description":""}
];

// æ­£è§£/ä¸æ­£è§£ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
words.forEach(w => w.status=null);

// DOMè¦ç´ 
const cardsDiv = document.getElementById('flashCards');
const listDiv = document.getElementById('listView');
const searchInput = document.getElementById('search');
const statsDiv = document.getElementById('stats');

// ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿
document.getElementById('modeFlash').onclick = () => {
  cardsDiv.style.display = 'block';
  listDiv.style.display = 'none';
  renderCards(searchInput.value);
};
document.getElementById('modeList').onclick = () => {
  cardsDiv.style.display = 'none';
  listDiv.style.display = 'block';
  renderListView(searchInput.value);
};

// éŸ³å£°èª­ã¿ä¸Šã’
function speak(text, lang="th-TH") {
  if('speechSynthesis' in window) {
    const utter = new SpeechSynthesisUtterance(text);
    utter.lang = lang;
    window.speechSynthesis.speak(utter);
  } else {
    alert("ã“ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯éŸ³å£°èª­ã¿ä¸Šã’ã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“");
  }
}

// ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰æç”»
function renderCards(filter="") {
  cardsDiv.innerHTML = "";
  const filtered = words.filter(w => w.thai.includes(filter) || w.roman.includes(filter) || w.japanese.includes(filter) || w.category.includes(filter));
  filtered.forEach(word => {
    const div = document.createElement('div');
    div.className = 'card';
    div.innerHTML = `
      <b>${word.japanese}</b> (${word.thai})<br>
      <span class="hidden">ç™ºéŸ³: ${word.roman}<br>${word.description}</span>
      <div>
        <button class="speak">ğŸ”Š èª­ã¿ä¸Šã’</button>
        <button class="correct">è¦šãˆãŸ</button>
        <button class="incorrect">ã¾ã è¦šãˆã¦ãªã„</button>
      </div>
      <small>ã‚«ãƒ†ã‚´ãƒª: ${word.category}</small>
    `;

    div.querySelector('span').onclick = (e) => e.stopPropagation();

    div.querySelector('.speak').onclick = (e) => { 
      e.stopPropagation(); 
      speak(word.thai, "th-TH"); 
    };

    div.querySelector('.correct').onclick = (e) => { e.stopPropagation(); word.status=true; updateStats(); };
    div.querySelector('.incorrect').onclick = (e) => { e.stopPropagation(); word.status=false; updateStats(); };
    div.onclick = () => div.querySelector('span').classList.toggle('hidden');
    cardsDiv.appendChild(div);
  });
  updateStats();
}

// ä¸€è¦§è¡¨ç¤ºæç”»
function renderListView(filter="") {
  listDiv.innerHTML = "<table><tr><th>ã‚¿ã‚¤èª</th><th>ãƒ­ãƒ¼ãƒå­—</th><th>æ—¥æœ¬èª</th><th>ã‚«ãƒ†ã‚´ãƒª</th><th>ğŸ”Š</th></tr>";
  words.filter(w => w.thai.includes(filter) || w.roman.includes(filter) || w.japanese.includes(filter) || w.category.includes(filter))
       .forEach(word => {
         listDiv.innerHTML += `<tr>
           <td>${word.thai}</td>
           <td>${word.roman}</td>
           <td>${word.japanese}</td>
           <td>${word.category}</td>
           <td><button onclick="speak('${word.thai}','th-TH')">ğŸ”Š</button></td>
         </tr>`;
       });
  listDiv.innerHTML += "</table>";
}

// æ­£è§£/ä¸æ­£è§£çµ±è¨ˆ
function updateStats() {
  const cats = [...new Set(words.map(w=>w.category))];
  let html="";
  cats.forEach(cat=>{
    const catWords = words.filter(w=>w.category===cat);
    const correct = catWords.filter(w=>w.status===true).length;
    const incorrect = catWords.filter(w=>w.status===false).length;
    html += `<b>${cat}</b> æ­£è§£: ${correct} / ä¸æ­£è§£: ${incorrect}<br>`;
  });
  statsDiv.innerHTML = html;
}

// æ¤œç´¢
searchInput.addEventListener('input', ()=>{
  if(cardsDiv.style.display === 'block') renderCards(searchInput.value);
  else renderListView(searchInput.value);
});

// åˆæœŸè¡¨ç¤º
renderCards();
</script>

</body>
</html>
